<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题收集 | bolg</title>
    <meta name="description" content="个人记录学习">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.afe83f9e.css" as="style"><link rel="preload" href="/assets/js/app.d52bec75.js" as="script"><link rel="preload" href="/assets/js/24.5c80d16d.js" as="script"><link rel="prefetch" href="/assets/js/10.d86d91d3.js"><link rel="prefetch" href="/assets/js/11.721fbb9e.js"><link rel="prefetch" href="/assets/js/12.125034bd.js"><link rel="prefetch" href="/assets/js/13.1e19bc0a.js"><link rel="prefetch" href="/assets/js/14.7e13152d.js"><link rel="prefetch" href="/assets/js/15.2453ac9b.js"><link rel="prefetch" href="/assets/js/16.78d6b851.js"><link rel="prefetch" href="/assets/js/17.53a1c3c8.js"><link rel="prefetch" href="/assets/js/18.ed645396.js"><link rel="prefetch" href="/assets/js/19.71fe0fe5.js"><link rel="prefetch" href="/assets/js/2.a61b4523.js"><link rel="prefetch" href="/assets/js/20.c9c0168e.js"><link rel="prefetch" href="/assets/js/21.db8dfed4.js"><link rel="prefetch" href="/assets/js/22.420890ac.js"><link rel="prefetch" href="/assets/js/23.f1acfe85.js"><link rel="prefetch" href="/assets/js/25.98255c85.js"><link rel="prefetch" href="/assets/js/26.6a5574d7.js"><link rel="prefetch" href="/assets/js/27.c93ee67c.js"><link rel="prefetch" href="/assets/js/28.48e87e4f.js"><link rel="prefetch" href="/assets/js/29.efb8f572.js"><link rel="prefetch" href="/assets/js/3.3de3efb2.js"><link rel="prefetch" href="/assets/js/30.80e2a618.js"><link rel="prefetch" href="/assets/js/31.ed635820.js"><link rel="prefetch" href="/assets/js/4.66e85b7f.js"><link rel="prefetch" href="/assets/js/5.f6d46713.js"><link rel="prefetch" href="/assets/js/6.c7df8d19.js"><link rel="prefetch" href="/assets/js/7.d68fc76b.js"><link rel="prefetch" href="/assets/js/8.df47d2d8.js"><link rel="prefetch" href="/assets/js/9.52e09076.js">
    <link rel="stylesheet" href="/assets/css/0.styles.afe83f9e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">bolg</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/Css/" class="nav-link">Css</a></div><div class="nav-item"><a href="/Vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/Node/" class="nav-link">Node</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">资料</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Links/" class="nav-link">常用链接</a></li><li class="dropdown-item"><!----> <a href="/Problems/" class="nav-link router-link-exact-active router-link-active">常见问题</a></li><li class="dropdown-item"><!----> <a href="/Collection/" class="nav-link">文章收藏</a></li></ul></div></div><div class="nav-item"><a href="/CodeStyle/" class="nav-link">代码规范</a></div><div class="nav-item"><a href="/MongoDB/" class="nav-link">其他问题</a></div><div class="nav-item"><a href="https://github.com/q331593648/myVuePress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/Css/" class="nav-link">Css</a></div><div class="nav-item"><a href="/Vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/Node/" class="nav-link">Node</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">资料</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Links/" class="nav-link">常用链接</a></li><li class="dropdown-item"><!----> <a href="/Problems/" class="nav-link router-link-exact-active router-link-active">常见问题</a></li><li class="dropdown-item"><!----> <a href="/Collection/" class="nav-link">文章收藏</a></li></ul></div></div><div class="nav-item"><a href="/CodeStyle/" class="nav-link">代码规范</a></div><div class="nav-item"><a href="/MongoDB/" class="nav-link">其他问题</a></div><div class="nav-item"><a href="https://github.com/q331593648/myVuePress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>常见问题收集</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Problems/#生成数组-0-1-n-1" class="sidebar-link">生成数组[0, 1, ..., N-1]</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#获取本机ip" class="sidebar-link">获取本机ip</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#获取屏幕高宽" class="sidebar-link">获取屏幕高宽</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#js判断对象是否为空对象的几种方法" class="sidebar-link">js判断对象是否为空对象的几种方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#ajax请求后跳转页面拦截" class="sidebar-link">ajax请求后跳转页面拦截</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue生命周期" class="sidebar-link">vue生命周期</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue监听对象的属性" class="sidebar-link">vue监听对象的属性</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue计算属性传参" class="sidebar-link">vue计算属性传参</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue父子传值" class="sidebar-link">vue父子传值</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue中数组和对象更改后视图不刷新的问题" class="sidebar-link">Vue中数组和对象更改后视图不刷新的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue拖拽事件不生效" class="sidebar-link">vue拖拽事件不生效</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue-路由带参数" class="sidebar-link">vue 路由带参数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue-设置跨域" class="sidebar-link">vue 设置跨域</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue路由不带token跳转" class="sidebar-link">vue路由不带token跳转</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue路由跳转不刷新" class="sidebar-link">vue路由跳转不刷新</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#组件渲染完成后操作事件" class="sidebar-link">组件渲染完成后操作事件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-jsx传不了参数？" class="sidebar-link">element-ui  JSX传不了参数？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-自定义表头" class="sidebar-link">element-ui 自定义表头</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-table-自适应表头？" class="sidebar-link">element-ui table 自适应表头？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-的-upload组件的clearfiles方法调用方法" class="sidebar-link">element-ui 的 upload组件的clearFiles方法调用方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-el-tooltip-为空不显示问题" class="sidebar-link">element-ui el-tooltip 为空不显示问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-el-switch-使用number类型不成功" class="sidebar-link">element-ui el-switch 使用number类型不成功</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#vue批量导入组件" class="sidebar-link">vue批量导入组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#element-ui-前端表格分页" class="sidebar-link">element-ui 前端表格分页</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#使用iconfont" class="sidebar-link">使用iconfont</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#使用svg" class="sidebar-link">使用svg</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#yarn安装" class="sidebar-link">yarn安装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#webstorm-路径的问题" class="sidebar-link">webStorm @路径的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#使用css将图片转换成黑白-灰色、置灰" class="sidebar-link">使用CSS将图片转换成黑白(灰色、置灰)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#html页面编辑" class="sidebar-link">html页面编辑</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#scss换肤" class="sidebar-link">scss换肤</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#使用svgo压缩svg" class="sidebar-link">使用svgo压缩svg</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Problems/#使用nvm" class="sidebar-link">使用nvm</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="常见问题收集"><a href="#常见问题收集" aria-hidden="true" class="header-anchor">#</a> 常见问题收集</h1> <hr> <h2 id="生成数组-0-1-n-1"><a href="#生成数组-0-1-n-1" aria-hidden="true" class="header-anchor">#</a> 生成数组[0, 1, ..., N-1]</h2> <div class="language- extra-class"><pre class="language-text"><code>Array.from(Array(10).keys()) // [1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre></div><h2 id="获取本机ip"><a href="#获取本机ip" aria-hidden="true" class="header-anchor">#</a> 获取本机ip</h2> <div class="language- extra-class"><pre class="language-text"><code>function findIP(callback) { 
  var myPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection; //compatibility for firefox and chrome
  var pc = new myPeerConnection({iceServers: []}), 
    noop = function() {},
    localIPs = {}, 
    ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,
    key;
 
  function ipIterate(ip) {
    if (!localIPs[ip]) callback(ip);
    localIPs[ip] = true;
  }
  pc.createDataChannel(&quot;&quot;); 
  pc.createOffer().then(function(sdp) {
    sdp.sdp.split('\n').forEach(function(line) {
      if (line.indexOf('candidate') &lt; 0) return;
      line.match(ipRegex).forEach(ipIterate);
    });
    pc.setLocalDescription(sdp, noop, noop);
  }); 
  pc.onicecandidate = function(ice) { 
    if (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) return;
    ice.candidate.candidate.match(ipRegex).forEach(ipIterate);
  };
}
 
findIP(function(ip){
  console.log('got ip: ', ip);
});
</code></pre></div><h2 id="获取屏幕高宽"><a href="#获取屏幕高宽" aria-hidden="true" class="header-anchor">#</a> 获取屏幕高宽</h2> <div class="language- extra-class"><pre class="language-text"><code>document.body.clientWidth ==&gt; BODY对象宽度
document.body.clientHeight ==&gt; BODY对象高度
document.documentElement.clientWidth ==&gt; 可见区域宽度
document.documentElement.clientHeight ==&gt; 可见区域高度
document.body.clientWidth ==&gt; 网页可见区域宽 
document.body.clientHeight ==&gt; 网页可见区域高
document.body.offsetWidth ==&gt; 网页可见区域宽(包括边线的宽)
document.body.offsetHeight ==&gt; 网页可见区域高(包括边线的高)
document.body.scrollWidth ==&gt; 网页正文全文宽document.body.scrollHeight ==&gt; 网页正文全文高
document.body.scrollTop ==&gt; 网页被卷去的高
document.body.scrollLeft ==&gt; 网页被卷去的左
window.screenTop ==&gt; 网页正文部分上
window.screenLeft ==&gt; 网页正文部分左
window.screen.height ==&gt; 屏幕分辨率的高
window.screen.width ==&gt; 屏幕可用工作区高度
window.screen.availHeight ==&gt; 屏幕可用工作区高度
window.screen.availWidth ==&gt; 屏幕可用工作区宽度
</code></pre></div><h2 id="js判断对象是否为空对象的几种方法"><a href="#js判断对象是否为空对象的几种方法" aria-hidden="true" class="header-anchor">#</a> js判断对象是否为空对象的几种方法</h2> <div class="language- extra-class"><pre class="language-text"><code>1.将json对象转化为json字符串，再判断该字符串是否为&quot;{}&quot;
var data = {};
var b = (JSON.stringify(data) == &quot;{}&quot;);
alert(b);//true

2.for in 循环判断
var obj = {};
var b = function() {
for(var key in obj) {
return false;
}
return true;
}
alert(b());//true

3.jquery的isEmptyObject方法
此方法是jquery将2方法(for in)进行封装，使用时需要依赖jquery
var data = {};
var b = $.isEmptyObject(data);
alert(b);//true

4.Object.getOwnPropertyNames()方法
此方法是使用Object对象的getOwnPropertyNames方法，获取到对象中的属性名，存到一个数组中，返回数组对象，我们可以通过判断数组的length来判断此对象是否为空
注意：此方法不兼容ie8，其余浏览器没有测试
var data = {};
var arr = Object.getOwnPropertyNames(data);
alert(arr.length == 0);//true

5.使用ES6的Object.keys()方法
与4方法类似，是ES6的新方法, 返回值也是对象中属性名组成的数组
var data = {};
var arr = Object.keys(data);
alert(arr.length == 0);//true
</code></pre></div><h2 id="ajax请求后跳转页面拦截"><a href="#ajax请求后跳转页面拦截" aria-hidden="true" class="header-anchor">#</a> ajax请求后跳转页面拦截</h2> <div class="language- extra-class"><pre class="language-text"><code>jump(id) {
          var newPage = window.open();//新开页面
          this.$http({
            method: &quot;post&quot;,
            url:&quot;&quot;
          })
            .then(res =&gt; {
              var loginUrl = &quot;http://172.168.1.203:86/ps/login/login.html&quot;;
              // 返回成功进入新开页面
              newPage.location = loginUrl
            })
            .catch(err =&gt; {
              newPage.close();//失败时候关闭新建页面
              console.log(err);
            });
        },
</code></pre></div><h2 id="vue生命周期"><a href="#vue生命周期" aria-hidden="true" class="header-anchor">#</a> vue生命周期</h2> <div class="language- extra-class"><pre class="language-text"><code>    // 生命周期钩子函数 就是VUE规定的一些在固定阶段执行的函数
    beforeCreate(){
        // 创造之前
        // 不能获取data和methods里的数据
        console.log('beforeCreate');
        debugger;
    },
    created(){            
        // 能获取data和methods里的数据
        // 一般把ajax请求的发送写到这里
    },
    beforeMount() {},
    mounted(){
        // 在此时DOM已经渲染完成
    },
    beforeUpdate(){
        // 在视图更新时会触发其中函数
        // 函数在视图更新前执行
    },
    updated(){
        // 在视图更新时会触发其中函数
        // 函数在视图更新后执行
        // 不要写会触发视图更新的代码
    },
    beforeDestroy(){},
    //销毁前
    destroyed(){}
    //销毁
   destory();//手动销毁该实例，双向数据绑定没了

</code></pre></div><h2 id="vue监听对象的属性"><a href="#vue监听对象的属性" aria-hidden="true" class="header-anchor">#</a> vue监听对象的属性</h2> <div class="language- extra-class"><pre class="language-text"><code>1.普通监听
data(){
    return{
        aa:&quot;&quot;
    }
},
watch:{
    aa(newValue,oldValue){
        ...
    }
}

2.对象监听
data(){
    return{
        aa:{
            name:&quot;&quot;,
            age:null
        }
    }
},
watch:{
    aa:{
        handler(newValue,oldValue){
            ...
        },
        deep:true
    }
}

3.具体属性监听
data(){
    return{
        aa:{
            name:&quot;&quot;,
            age:null
        }
    }
},
computed:{
    name(){
        return this.aa.name
    }
}
watch:{
    name(newValue,oldValue){
        ...
    }
}
</code></pre></div><h2 id="vue计算属性传参"><a href="#vue计算属性传参" aria-hidden="true" class="header-anchor">#</a> vue计算属性传参</h2> <div class="language- extra-class"><pre class="language-text"><code>:data=&quot;closure(item, itemName, blablaParams)&quot;

computed: {
 closure () {
   return function (a, b, c) {
        /** do something */
        return data
    }
 }
}
</code></pre></div><h2 id="vue父子传值"><a href="#vue父子传值" aria-hidden="true" class="header-anchor">#</a> vue父子传值</h2> <div class="language- extra-class"><pre class="language-text"><code>1.子接收父级的值
子：props: {
      inputName: String,
      required: true
    }
父： &lt;child :inputName=&quot;name&quot;&gt;&lt;/child&gt;

--------------------------------------------------
2.父接收子值--子调用父级方法
子： this.$emit('changeVal', xx)
父：	&lt;child @changeVal=&quot;getChildVal&quot;&gt;&lt;/child&gt;
getChildVal(xx){
	xxxx
}

--------------------------------------------------

3.子接收父值--父调用子级方法
子：getParentData(){xxx}
父：&lt;child ref=&quot;child&quot;&gt;&lt;/child&gt;
changeChild(){
	this.$refs.child.getParentData(xx);//如果子组件还没加载就使用$nextTick
}
</code></pre></div><h2 id="vue中数组和对象更改后视图不刷新的问题"><a href="#vue中数组和对象更改后视图不刷新的问题" aria-hidden="true" class="header-anchor">#</a> Vue中数组和对象更改后视图不刷新的问题</h2> <div class="language- extra-class"><pre class="language-text"><code>调用方法：Vue.set( target, key, value )

target：要更改的数据源(可以是对象或者数组)

key：要更改的具体数据

value ：重新赋的值

Tip:Vue.set()在methods中也可以写成this.$set()
</code></pre></div><h2 id="vue拖拽事件不生效"><a href="#vue拖拽事件不生效" aria-hidden="true" class="header-anchor">#</a> vue拖拽事件不生效</h2> <div class="language- extra-class"><pre class="language-text"><code>@dragenter.prevent @dragover.prevent @drop=&quot;drop($event)&quot;

drop(event) {xxx}
</code></pre></div><h2 id="vue-路由带参数"><a href="#vue-路由带参数" aria-hidden="true" class="header-anchor">#</a> vue 路由带参数</h2> <div class="language- extra-class"><pre class="language-text"><code>1.
// 直接调用$router.push 实现携带参数的跳转
        this.$router.push({
          path: `/describe/${id}`,
        })

// 方案一，需要对应路由配置如下：
   {
     path: '/describe/:id',
     name: 'Describe',
     component: Describe
   }
// 很显然，需要在path中添加/:id来对应 $router.push 中path携带的参数。

// 在子组件中可以使用来获取传递的参数值。
$route.params.id

2.
// 父组件中：通过路由属性中的name来确定匹配的路由，通过params来传递参数。
       this.$router.push({
          name: 'Describe',
          params: {
            id: id
          }
        })

// 对应路由配置: 注意这里不能使用:/id来传递参数了，因为父组件中，已经使用params来携带参数了。
   {
     path: '/describe',
     name: 'Describe',
     component: Describe
   }

//子组件中: 这样来获取参数
$route.params.id

3.
// 父组件：使用path来匹配路由，然后通过query来传递参数
这种情况下 query传递的参数会显示在url后面?id=？
    this.$router.push({
          path: '/describe',
          query: {
            id: id
          }
        })

// 对应路由配置：
   {
     path: '/describe',
     name: 'Describe',
     component: Describe
   }

// 对应子组件: 这样来获取参数
$route.query.id

// 这里要特别注意 在子组件中 获取参数的时候是$route.params 而不是
$router 这很重要~~~
</code></pre></div><h2 id="vue-设置跨域"><a href="#vue-设置跨域" aria-hidden="true" class="header-anchor">#</a> vue 设置跨域</h2> <div class="language- extra-class"><pre class="language-text"><code>vue-config.js文件
dev: {
    proxyTable: {
      '/api': {
        target: 'http://40.00.100.100:3002/',//设置你调用的接口域名和端口号 别忘了加http
        changeOrigin: true,
        pathRewrite: {
          '^/api': '/'
                //这里理解成用‘/api’代替target里面的地址，
                后面组件中我们掉接口时直接用api代替 比如我要调
                用'http://40.00.100.100:3002/user/add'，直接写‘/api/user/add’即可
        }
      }
    },
</code></pre></div><h2 id="vue路由不带token跳转"><a href="#vue路由不带token跳转" aria-hidden="true" class="header-anchor">#</a> vue路由不带token跳转</h2> <div class="language- extra-class"><pre class="language-text"><code>router.beforeEach((to, from, next) =&gt; {
  if (localStorage.hasOwnProperty(&quot;token&quot;)) {
    next()
  }else{
    if (to.path === '/' || to.path ===&quot;/register&quot; || to.path === &quot;/forget&quot;) {
      next()
   } else {
       next('/')
   }
  }
})
</code></pre></div><h2 id="vue路由跳转不刷新"><a href="#vue路由跳转不刷新" aria-hidden="true" class="header-anchor">#</a> vue路由跳转不刷新</h2> <ul><li><a href="https://www.cnblogs.com/goloving/p/9005130.html" target="_blank" rel="noopener noreferrer">vue路由跳转不刷新<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="组件渲染完成后操作事件"><a href="#组件渲染完成后操作事件" aria-hidden="true" class="header-anchor">#</a> 组件渲染完成后操作事件</h2> <div class="language- extra-class"><pre class="language-text"><code>    this.$nextTick(() =&gt; {
        this.$refs.dialogMSG.getdialogInfo(this.dialogGroup);
    })
</code></pre></div><h2 id="element-ui-jsx传不了参数？"><a href="#element-ui-jsx传不了参数？" aria-hidden="true" class="header-anchor">#</a> element-ui  JSX传不了参数？</h2> <div class="language- extra-class"><pre class="language-text"><code>使用这个方式可以传当前参数：
     onClick={(key,val) =&gt; console.log(key,val)}

</code></pre></div><h2 id="element-ui-自定义表头"><a href="#element-ui-自定义表头" aria-hidden="true" class="header-anchor">#</a> element-ui 自定义表头</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;el-table :data=&quot;tableData&quot; border style=&quot;width: 100%&quot; align=&quot;center&quot;&gt;
        &lt;el-table-column prop=&quot;name&quot; label=&quot;名称&quot; width=&quot;120&quot;&gt;&lt;/el-table-column&gt;
        &lt;el-table-column &gt;
          &lt;template slot=&quot;header&quot;&gt;
            &lt;div&gt;
              &lt;tr&gt;
                &lt;th v-for=&quot;(item,index) in weekDays&quot; :key=&quot;index&quot;&gt;{{item}}&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/div&gt;
          &lt;/template&gt;
          &lt;template v-for=&quot;(item,order) in tableHeader&quot;&gt;
            &lt;el-table-column :key=&quot;order&quot; :prop=&quot;item&quot; :label=&quot;item&quot; width=&quot;50&quot;&gt;
              &lt;template slot-scope=&quot;scope&quot;&gt;
                &lt;span @click=&quot;cancelChange($event,scope.row[item])&quot; :style=&quot;{backgroundColor:changeColor(scope.row[item])}&quot;&gt;&lt;/span&gt;
              &lt;/template&gt;
            &lt;/el-table-column&gt;
          &lt;/template&gt;
        &lt;/el-table-column&gt;
        &lt;el-table-column label=&quot;总数&quot; width=&quot;50&quot;&gt;
          &lt;template slot-scope=&quot;scope&quot;&gt;{{getCount(scope.row)}}&lt;/template&gt;
        &lt;/el-table-column&gt;
      &lt;/el-table&gt;
</code></pre></div><h2 id="element-ui-table-自适应表头？"><a href="#element-ui-table-自适应表头？" aria-hidden="true" class="header-anchor">#</a> element-ui table 自适应表头？</h2> <div class="language- extra-class"><pre class="language-text"><code>:render-header = headerRender

headerRender(h, { column, $index }) {
  const nowRow =  this.xx[$index-1]; //获取当前列数据
  column.minWidth = nowRow.value.length * 10 + 77;//根据字数大概估算宽度
	//更详细可以区分中文英文来分别判断宽度
  return nowRow.value;
   }
</code></pre></div><h2 id="element-ui-的-upload组件的clearfiles方法调用方法"><a href="#element-ui-的-upload组件的clearfiles方法调用方法" aria-hidden="true" class="header-anchor">#</a> element-ui 的 upload组件的clearFiles方法调用方法</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;el-upload ref = &quot;upload&quot;&gt;
    this.$refs.upload.clearFiles();
</code></pre></div><h2 id="element-ui-el-tooltip-为空不显示问题"><a href="#element-ui-el-tooltip-为空不显示问题" aria-hidden="true" class="header-anchor">#</a> element-ui el-tooltip 为空不显示问题</h2> <div class="language- extra-class"><pre class="language-text"><code>  &lt;el-tooltip placement=&quot;top&quot; :disabled=&quot;item.f1 === '' ? true : false&quot; &gt;
	&lt;div slot=&quot;content&quot;&gt;{{tipFqInfo1}}&lt;/div&gt;
  &lt;/el-tooltip&gt;
</code></pre></div><h2 id="element-ui-el-switch-使用number类型不成功"><a href="#element-ui-el-switch-使用number类型不成功" aria-hidden="true" class="header-anchor">#</a> element-ui el-switch 使用number类型不成功</h2> <p>需要添加:</p> <div class="language- extra-class"><pre class="language-text"><code>  &lt;el-switch
    v-model=&quot;scope.row.isUseEailbox&quot;
    :inactive-value= 0
    :active-value= 1
  &gt;
</code></pre></div><h2 id="vue批量导入组件"><a href="#vue批量导入组件" aria-hidden="true" class="header-anchor">#</a> vue批量导入组件</h2> <div class="language- extra-class"><pre class="language-text"><code>  const path = require('path')
  const files = require.context('./components', false, /\.vue$/)
  const modules = {}
  files.keys().forEach(key =&gt; {
    const name = path.basename(key, '.vue')
    modules[name] = files(key).default || files(key)
  })

</code></pre></div><h2 id="element-ui-前端表格分页"><a href="#element-ui-前端表格分页" aria-hidden="true" class="header-anchor">#</a> element-ui 前端表格分页</h2> <p><a href="https://segmentfault.com/a/1190000012510886" target="_blank" rel="noopener noreferrer">前端表格分页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="使用iconfont"><a href="#使用iconfont" aria-hidden="true" class="header-anchor">#</a> 使用iconfont</h2> <div class="language- extra-class"><pre class="language-text"><code>@import &quot;../icons/iconfont/iconfont.css&quot;;//引入css
</code></pre></div><h2 id="使用svg"><a href="#使用svg" aria-hidden="true" class="header-anchor">#</a> 使用svg</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add svg-sprite-loader

</code></pre></div><p>vue.config.js</p> <div class="language- extra-class"><pre class="language-text"><code>const path = require('path')

function resolve(dir) {
  return path.join(__dirname, dir)
}
module.exports = {
    chainWebpack: config =&gt; {
        config.module
            .rule('svg')
            .exclude.add(resolve('src/svgs'))
            .end()
        config.module
            .rule('icons')
            .test(/\.svg$/)
            .include.add(resolve('src/svgs'))
            .end()
            .use('svg-sprite-loader')
            .loader('svg-sprite-loader')
            .options({
                symbolId: 'icon-[name]'
            })
            .end()
      }
}

</code></pre></div><p>main.js</p> <div class="language- extra-class"><pre class="language-text"><code>import './svgs'
</code></pre></div><p>svgs/index.js</p> <div class="language- extra-class"><pre class="language-text"><code>import Vue from 'vue'
import SvgIcon from '@/components/SvgIcon'// svg component
Vue.component('svg-icon', SvgIcon)
const requireAll = requireContext =&gt; requireContext.keys().map(requireContext)
const req = require.context('./svg', false, /\.svg$/)
requireAll(req)
</code></pre></div><p>svgs/svg/404.svg</p> <p>components/SvgIcon/index.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;svg  :class=&quot;svgClass&quot; aria-hidden=&quot;true&quot; v-on=&quot;$listeners&quot;&gt;
    &lt;use :xlink:href=&quot;iconName&quot; /&gt;
  &lt;/svg&gt;
&lt;/template&gt;

&lt;script&gt;

export default {
  name: 'SvgIcon',
  props: {
    iconClass: {
      type: String,
      required: true
    },
    className: {
      type: String,
      default: ''
    }
  },
  computed: {
    iconName() {
      return `#icon-${this.iconClass}`
    },
    svgClass() {
      if (this.className) {
        return 'svg-icon ' + this.className
      } else {
        return 'svg-icon'
      }
    },
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.svg-icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}

.svg-external-icon {
  background-color: currentColor;
  mask-size: cover!important;
  display: inline-block;
}
&lt;/style&gt;
</code></pre></div><p>页面使用:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;svg-icon icon-class=&quot;bug&quot; /&gt;

</code></pre></div><h2 id="yarn安装"><a href="#yarn安装" aria-hidden="true" class="header-anchor">#</a> yarn安装</h2> <p><a href="https://blog.csdn.net/qq_45062261/article/details/100132489" target="_blank" rel="noopener noreferrer">PowerShell安装yarn出现的问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.cnblogs.com/xiaomili/p/1051407" target="_blank" rel="noopener noreferrer">yarn设置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="webstorm-路径的问题"><a href="#webstorm-路径的问题" aria-hidden="true" class="header-anchor">#</a> webStorm @路径的问题</h2> <p><a href="https://blog.csdn.net/weixin_43343144/article/details/88668787" target="_blank" rel="noopener noreferrer">@路径配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="使用css将图片转换成黑白-灰色、置灰"><a href="#使用css将图片转换成黑白-灰色、置灰" aria-hidden="true" class="header-anchor">#</a> 使用CSS将图片转换成黑白(灰色、置灰)</h2> <p><a href="https://www.zhangxinxu.com/wordpress/2012/08/css-svg-filter-image-grayscale/" target="_blank" rel="noopener noreferrer">CSS将图片转换成黑白<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="html页面编辑"><a href="#html页面编辑" aria-hidden="true" class="header-anchor">#</a> html页面编辑</h2> <div class="language- extra-class"><pre class="language-text"><code>在控制台输入document.body.contentEditable=&quot;true&quot;或者document.designMode = 'on'就可以实现对网页的编辑了。
</code></pre></div><h2 id="scss换肤"><a href="#scss换肤" aria-hidden="true" class="header-anchor">#</a> scss换肤</h2> <pre><code>1.定义一个sass文件_themes.scss
</code></pre> <div class="language- extra-class"><pre class="language-text"><code>//定义全局主题&amp;颜色的map数组，鉴于V5只有白天和晚上的主题，此处仅定义这两种
//切记 所有颜色一式两份儿，务必保证key值统一，key值可以自定义，注意避免$%_之类的，
//与sass自有符号冲突，见文知意即可
//另外如果基于其他UI框架，如本项目基于element-ui，则只需设置一套dark主题，
//data-theme为dark时，样式引用dark
//data-theme为其他值时，自然就采用了elementui的默认样式
$themes: (
  light: (
    font_color1: rgb(196, 193, 193),
    font_color2: rgb(110, 109, 109),
    background_color1: rgb(255, 0, 21),
    background_color2: rgb(87, 87, 226),
    border_color1: rgb(231, 181, 181),
    border_color2: rgb(9, 255, 0)
  ),
  dark: (
    font_color1: rgb(226, 222, 222),
    font_color2: rgb(255, 255, 255),
    background_color1: rgb(87, 87, 226),
    background_color2: rgb(255, 0, 21),
    border_color1: rgb(9, 255, 0),
    border_color2: rgb(231, 181, 181)
  )
);

</code></pre></div><p>2.定义另外一个sass文件_handle.scss来操作1中的$theme变量</p> <div class="language- extra-class"><pre class="language-text"><code>@import &quot;./_themes.scss&quot;;
//此处用了sass的map遍历、函数、map存取、混合器等相关知识，
//详细API参考https://www.sass.hk/docs/
//遍历主题map
@mixin themeify {
  @each $theme-name, $theme-map in $themes {
    //!global 把局部变量强升为全局变量
    $theme-map: $theme-map !global;
    //这步是判断html的data-theme的属性值  #{}是sass的插值表达式
    //&amp; sass嵌套里的父容器标识   @content是混合器插槽，像vue的slot
    [data-theme=&quot;#{$theme-name}&quot;] &amp; {
      @content;
    }
  }
}
//声明一个根据Key获取颜色的function
@function themed($key) {
  @return map-get($theme-map, $key);
}
//暂时想到的常用的开发场景下面三种背景颜色、字体颜色、边框颜色  至于阴影什么之类的忽略了
//获取背景颜色
@mixin background_color($color) {
  @include themeify {
    background-color: themed($color);
  }
}
//获取字体颜色
@mixin font_color($color) {
  @include themeify {
    color: themed($color);
  }
}
//获取边框颜色
@mixin border_color($color) {
  @include themeify {
    border-color: themed($color);
  }
}

</code></pre></div><p>3.具体在vue中使用，直接引入对应混入器就好，取哪个颜色，传哪个key</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;style lang=&quot;scss&quot; scoped&gt;
@import &quot;@/style/_handle.scss&quot;;
 
p {
  font-size: 18px;
  @include font_color(&quot;font_color1&quot;);
  @include background_color(&quot;background_color1&quot;);
  @include border_color(&quot;border_color1&quot;);
}
&lt;/style&gt;
</code></pre></div><p>4 切换html的属性data-theme的值</p> <div class="language- extra-class"><pre class="language-text"><code>data(){
	return {
		index :false
	}
}
window.document.documentElement.setAttribute(
        &quot;data-theme&quot;,
        index ? &quot;dark&quot; : &quot;light&quot;
      );

</code></pre></div><h2 id="使用svgo压缩svg"><a href="#使用svgo压缩svg" aria-hidden="true" class="header-anchor">#</a> 使用svgo压缩svg</h2> <div class="language- extra-class"><pre class="language-text"><code>yarn add svgo

单个文件使用举例：

 svgo test.svg

文件夹举例:
svgo -f ./svg    //整个文件夹转换

svgo -f ./svg -o ./output //输出到新的文件夹
</code></pre></div><h2 id="使用nvm"><a href="#使用nvm" aria-hidden="true" class="header-anchor">#</a> 使用nvm</h2> <div class="language- extra-class"><pre class="language-text"><code>下载安装
https://github.com/coreybutler/nvm-windows/releases

切换淘宝源
在你安装的目录下找到settings.txt文件，打开后加上
node_mirror: https://npm.taobao.org/mirrors/node/
npm_mirror: https://npm.taobao.org/mirrors/npm/

nvm install version  //安装指定版本、latest 安装最新版本
nvm list //查看所有node版本
nvm use version //使用哪个版本
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/12/2019, 9:50:49 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.d52bec75.js" defer></script><script src="/assets/js/24.5c80d16d.js" defer></script>
  </body>
</html>
